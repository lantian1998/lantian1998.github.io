<!DOCTYPE html><html lang="en-US" itemscope="" itemtype="https://schema.org/Article" data-astro-cid-porej7z2=""> <head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Host1Free VPS Memory Usage Optimization - Lan Tian @ Blog</title><script>
  ;(() => {
    try {
      const mode = localStorage.getItem('user-color-scheme')
      if (mode == 'dark' || mode == 'light') {
        document.documentElement.setAttribute('data-user-color-scheme', mode)
      }
    } catch {
      // Ignore errors
    }
  })()
</script><link rel="stylesheet" href="/assets/index.CUlf1-Vz.css"><style>#post-navi[data-astro-cid-gfbmwgei]{padding:5px;border-top:1px solid var(--lt-border-weak);border-bottom:1px solid var(--lt-border-weak)}
ol[data-astro-cid-nj3qel45]{margin:0;padding:0;line-height:1.5}ol[data-astro-cid-nj3qel45] .toc-item[data-astro-cid-nj3qel45]{list-style:none}ol[data-astro-cid-nj3qel45] .toc-child[data-astro-cid-nj3qel45],ol[data-astro-cid-nj3qel45] .toc[data-astro-cid-nj3qel45]{padding:0}ol[data-astro-cid-nj3qel45] .toc-link[data-astro-cid-nj3qel45]{display:block;margin-left:1em;padding:.25em 0}ol[data-astro-cid-nj3qel45] .toc-level-1[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-2[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-3[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-4[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-5[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-6[data-astro-cid-nj3qel45]:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:1em;padding:.25em 0;float:left;font-style:normal;font-variant:normal;font-weight:900;font-family:Font Awesome\ 6 Free;font-feature-settings:normal;text-align:center}ol[data-astro-cid-nj3qel45] .toc-level-1[data-astro-cid-nj3qel45]:before{content:""}ol[data-astro-cid-nj3qel45] .toc-level-2[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-3[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-4[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-5[data-astro-cid-nj3qel45]:before,ol[data-astro-cid-nj3qel45] .toc-level-6[data-astro-cid-nj3qel45]:before{content:""}.post-info-wrap[data-astro-cid-dckccua4]{-ms-flex:0 0 2.5em;flex:0 0 2.5em;background-color:var(--lt-component-bg-emphasis)}@media(min-width:768px){.post-info[data-astro-cid-dckccua4]{position:sticky;top:0}}@media(max-width:767.98px){.post-info[data-astro-cid-dckccua4]{position:absolute}}
</style><script type="module" src="/assets/PageLayout.astro_astro_type_script_index_0_lang.C1wfUPs6.js"></script><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Referrer-Policy" content="no-referrer, strict-origin-when-cross-origin"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="imagemode" content="force"><meta name="nightmode" content="disable"><meta name="wap-font-scale" content="no"><meta name="title" content="Host1Free VPS Memory Usage Optimization - Lan Tian @ Blog"><meta name="keywords" content=""><meta name="author" content="Lan Tian"><link rel="canonical" href="https://lantian.pub/en/article/modify-website/host1free-vps-memory-optimize.lantian/"><link rel="alternate" type="application/rss+xml" title="Lan Tian @ Blog" href="https://lantian.pub/rss2.xml"><link rel="alternate" type="application/atom+xml" title="Lan Tian @ Blog" href="https://lantian.pub/feed.xml"><link rel="alternate" href="https://lantian.pub/article/modify-website/host1free-vps-memory-optimize.lantian/" hreflang="zh"><link rel="alternate" href="https://lantian.pub/en/article/modify-website/host1free-vps-memory-optimize.lantian/" hreflang="en"><meta name="copyright" content="Copyright 2012-2025 Lan Tian @ Blog"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="manifest" href="/manifest.webmanifest"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#03a9f4"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#212121"><meta name="application-name" content="Lan Tian @ Blog"><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/apple-touch-icon-1024x1024.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-precomposed.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#03a9f4"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Lan Tian @ Blog"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-640x1136.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1136x640.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-750x1334.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1334x750.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1125x2436.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2436x1125.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1170x2532.png"><link rel="apple-touch-startup-image" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2532x1170.png"><link rel="apple-touch-startup-image" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1179x2556.png"><link rel="apple-touch-startup-image" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2556x1179.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-828x1792.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-1792x828.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2688.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2688x1242.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1242x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2208x1242.png"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1284x2778.png"><link rel="apple-touch-startup-image" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2778x1284.png"><link rel="apple-touch-startup-image" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="/apple-touch-startup-image-1290x2796.png"><link rel="apple-touch-startup-image" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="/apple-touch-startup-image-2796x1290.png"><link rel="apple-touch-startup-image" media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1488x2266.png"><link rel="apple-touch-startup-image" media="(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2266x1488.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1536x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2048x1536.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1620x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1620.png"><link rel="apple-touch-startup-image" media="(device-width: 820px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1640x2160.png"><link rel="apple-touch-startup-image" media="(device-width: 820px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2160x1640.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2388.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2388x1668.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-1668x2224.png"><link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2224x1668.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="/apple-touch-startup-image-2048x2732.png"><link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="/apple-touch-startup-image-2732x2048.png"><meta name="msapplication-TileColor" content="#bbdefb"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="msapplication-config" content="/browserconfig.xml"><link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json"><meta property="og:url" content="https://lantian.pub/en/article/modify-website/host1free-vps-memory-optimize.lantian/"><meta property="og:type" content="website"><meta property="og:title" content="Host1Free VPS Memory Usage Optimization - Lan Tian @ Blog"><meta property="og:image" content="https://lantian.pub/apple-touch-icon.png"><meta content="PS: After publishing the article for the first time, I realized I forgot to configure the connection between nginx and php5-fpm. When I tried to connect to my VPS to check the settings, I opened the terminal, pressed the up arrow and Enter, only to discover my last command was &#34;exit&#34;... PS2: Folks using port 22 on VPS should be cautious – you might get disconnected mid-command. Switch to another port like 2222. (So 2-ish) PS3: Today I set up a Debian 6 test environment on VirtualBox and discovered Lighttpd has plugin functionality... Revised accordingly. For a VPS, resources like CPU and disk space are usually sufficient for running a personal blog like mine. The real headache is insufficient memory...."><meta property="og:site_name" content="Lan Tian @ Blog"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://lantian.pub/en/article/modify-website/host1free-vps-memory-optimize.lantian/"><meta name="twitter:title" content="Host1Free VPS Memory Usage Optimization - Lan Tian @ Blog"><meta property="twitter:image" content="https://lantian.pub/apple-touch-icon.png"><meta content="PS: After publishing the article for the first time, I realized I forgot to configure the connection between nginx and php5-fpm. When I tried to connect to my VPS to check the settings, I opened the terminal, pressed the up arrow and Enter, only to discover my last command was &#34;exit&#34;... PS2: Folks using port 22 on VPS should be cautious – you might get disconnected mid-command. Switch to another port like 2222. (So 2-ish) PS3: Today I set up a Debian 6 test environment on VirtualBox and discovered Lighttpd has plugin functionality... Revised accordingly. For a VPS, resources like CPU and disk space are usually sufficient for running a personal blog like mine. The real headache is insufficient memory...."><meta name="twitter:dnt" content="on"><meta itemprop="name" content="Host1Free VPS Memory Usage Optimization - Lan Tian @ Blog"><meta property="image" content="https://lantian.pub/apple-touch-icon.png"><meta content="PS: After publishing the article for the first time, I realized I forgot to configure the connection between nginx and php5-fpm. When I tried to connect to my VPS to check the settings, I opened the terminal, pressed the up arrow and Enter, only to discover my last command was &#34;exit&#34;... PS2: Folks using port 22 on VPS should be cautious – you might get disconnected mid-command. Switch to another port like 2222. (So 2-ish) PS3: Today I set up a Debian 6 test environment on VirtualBox and discovered Lighttpd has plugin functionality... Revised accordingly. For a VPS, resources like CPU and disk space are usually sufficient for running a personal blog like mine. The real headache is insufficient memory...."><meta content="PS: After publishing the article for the first time, I realized I forgot to configure the connection between nginx and php5-fpm. When I tried to connect to my VPS to check the settings, I opened the terminal, pressed the up arrow and Enter, only to discover my last command was &#34;exit&#34;... PS2: Folks using port 22 on VPS should be cautious – you might get disconnected mid-command. Switch to another port like 2222. (So 2-ish) PS3: Today I set up a Debian 6 test environment on VirtualBox and discovered Lighttpd has plugin functionality... Revised accordingly. For a VPS, resources like CPU and disk space are usually sufficient for running a personal blog like mine. The real headache is insufficient memory...."><link rel="me" href="https://mastodon.social/@lantian"></head> <body data-astro-cid-porej7z2=""> <div id="bg" data-astro-cid-j6vmxtef=""></div>   <div id="container" class="container" data-astro-cid-porej7z2=""> <nav class="lantian navbar navbar-expand-lg" data-astro-cid-wu5dj4rx=""> <div class="container-fluid" data-astro-cid-wu5dj4rx=""> <a class="navbar-brand" href="/en/" data-astro-cid-wu5dj4rx="">Lan Tian @ Blog</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#lantian-navbar" aria-controls="lantian-navbar" aria-expanded="false" aria-label="Toggle navigation" data-astro-cid-wu5dj4rx=""> <span class="navbar-toggler-icon" data-astro-cid-wu5dj4rx=""></span> </button> <div class="collapse navbar-collapse" id="lantian-navbar" data-astro-cid-wu5dj4rx=""> <ul class="navbar-nav" data-astro-cid-wu5dj4rx=""> <li class="nav-item d-none d-lg-block" data-astro-cid-wu5dj4rx=""> <a class="nav-link" href="/en/page/archive/index.html" data-astro-cid-wu5dj4rx=""> Posts </a> </li><li class="nav-item d-none d-lg-block" data-astro-cid-wu5dj4rx=""> <a class="nav-link" href="/en/page/himawari/index.html" data-astro-cid-wu5dj4rx=""> Himawari </a> </li><li class="nav-item d-none d-lg-block" data-astro-cid-wu5dj4rx=""> <a class="nav-link" href="/en/page/dn42/index.html" data-astro-cid-wu5dj4rx=""> DN42 </a> </li> <li class="nav-item dropdown d-block d-lg-none" data-astro-cid-wu5dj4rx=""> <a href="#" class="nav-link dropdown-toggle" id="pages-dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" data-astro-cid-wu5dj4rx=""> <i class="fas fa-fw fa-file" data-astro-cid-wu5dj4rx=""></i> Page  <span class="caret" data-astro-cid-wu5dj4rx=""></span> </a> <ul class="dropdown-menu" aria-labelledby="pages-dropdown" data-astro-cid-wu5dj4rx=""> <li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item" href="/en/page/archive/index.html" data-astro-cid-wu5dj4rx=""> Posts </a> </li><li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item" href="/en/page/himawari/index.html" data-astro-cid-wu5dj4rx=""> Himawari </a> </li><li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item" href="/en/page/dn42/index.html" data-astro-cid-wu5dj4rx=""> DN42 </a> </li> </ul> </li> </ul> <ul class="navbar-nav ms-auto" data-astro-cid-wu5dj4rx=""> <li class="nav-item dropdown" data-astro-cid-wu5dj4rx=""> <a href="#" class="nav-link dropdown-toggle" id="languages-dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" data-astro-cid-wu5dj4rx=""> <i class="fas fa-fw fa-language" data-astro-cid-wu5dj4rx=""></i> Language <span class="caret" data-astro-cid-wu5dj4rx=""></span> </a> <ul class="dropdown-menu" aria-labelledby="languages-dropdown" data-astro-cid-wu5dj4rx=""> <li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item" href="/article/modify-website/host1free-vps-memory-optimize.lantian/" data-astro-cid-wu5dj4rx=""> <span class="flag-icon flag-icon-cn" data-astro-cid-wu5dj4rx=""></span> Chinese Simplified / 简体中文 </a> </li><li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item active" href="/en/article/modify-website/host1free-vps-memory-optimize.lantian/" data-astro-cid-wu5dj4rx=""> <span class="flag-icon flag-icon-us" data-astro-cid-wu5dj4rx=""></span> English </a> </li> <li data-astro-cid-wu5dj4rx=""><hr class="dropdown-divider" data-astro-cid-wu5dj4rx=""></li> <li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item disabled" href="#" data-astro-cid-wu5dj4rx="">Not all pages have translations.</a> </li> <li data-astro-cid-wu5dj4rx=""> <a class="dropdown-item disabled" href="#" data-astro-cid-wu5dj4rx="">You may see 404 - this is normal.</a> </li> </ul> </li> <li class="nav-item dropdown" data-astro-cid-wu5dj4rx=""> <a href="#" class="nav-link dropdown-toggle" id="color-scheme-dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" data-astro-cid-wu5dj4rx=""> <i class="fas fa-fw fa-adjust" data-astro-cid-wu5dj4rx=""></i> Night Mode </a> <ul class="dropdown-menu" aria-labelledby="color-scheme-dropdown" data-astro-cid-wu5dj4rx=""> <li data-astro-cid-wu5dj4rx=""> <a id="color-scheme-auto" class="dropdown-item" href="#" data-astro-cid-wu5dj4rx=""><i class="fas fa-fw fa-adjust" data-astro-cid-wu5dj4rx=""></i> Auto </a> </li> <li data-astro-cid-wu5dj4rx=""><hr class="dropdown-divider" data-astro-cid-wu5dj4rx=""></li> <li data-astro-cid-wu5dj4rx=""> <a id="color-scheme-light" class="dropdown-item" href="#" data-astro-cid-wu5dj4rx=""><i class="fas fa-fw fa-sun" data-astro-cid-wu5dj4rx=""></i> Light</a> </li> <li data-astro-cid-wu5dj4rx=""> <a id="color-scheme-dark" class="dropdown-item" href="#" data-astro-cid-wu5dj4rx=""><i class="fas fa-fw fa-moon" data-astro-cid-wu5dj4rx=""></i> Dark</a> </li> </ul> </li> </ul> </div> </div> </nav> <script type="module">const m="user-color-scheme",s="data-user-color-scheme",u=(e,t)=>{try{localStorage.setItem(e,t)}catch{}},i=e=>{try{return localStorage.getItem(e)}catch{return null}},c=e=>{const t={dark:!0,light:!0,auto:!0},o=e===null||!Object.keys(t).includes(e)?"auto":e;u(m,o);for(const l in t){const n=document.getElementById("color-scheme-"+l);n&&(l==o?n.classList.add("active"):n.classList.remove("active"))}o!="auto"?document.documentElement.setAttribute(s,o):document.documentElement.removeAttribute(s)};c(i(m));const r=document.getElementById("color-scheme-auto");r&&r.addEventListener("click",()=>c("auto"));const a=document.getElementById("color-scheme-light");a&&a.addEventListener("click",()=>c("light"));const d=document.getElementById("color-scheme-dark");d&&d.addEventListener("click",()=>c("dark"));</script>  <div class="d-flex" data-astro-cid-porej7z2=""> <div id="content" data-astro-cid-porej7z2="">  <article> <div class="d-flex"> <div class="post-info-wrap" data-astro-cid-dckccua4=""> <div class="post-info" data-astro-cid-dckccua4=""> <div class="post-meta-wrap"> <div class="post-meta"> <p> <span class="fas fa-clock"></span> <br> <small>02-06</small> </p> <div class="post-meta-value"> Published on<span class="badge badge-tag" data-astro-cid-dckccua4=""> 2013-02-06 20:04 </span>  </div> </div> </div> <div class="post-meta-wrap"> <div class="post-meta"> <p> <span class="fas fa-file-alt"></span> <br> <small>Website and Servers</small> </p> <div class="post-meta-value"> Category <a class="badge badge-tag" href="/en/category/modify-website" data-astro-cid-dckccua4=""> Website and Servers </a>  </div> </div> </div> <div class="post-meta-wrap"> <div class="post-meta"> <p> <span class="fas fa-tag"></span> <br> <small>3 tags</small> </p> <div class="post-meta-value"> Tags  <a class="badge badge-tag" href="/en/tag/Tinkering" data-astro-cid-dckccua4=""> Tinkering </a>  <a class="badge badge-tag" href="/en/tag/Host1Free" data-astro-cid-dckccua4=""> Host1Free </a>  <a class="badge badge-tag" href="/en/tag/VPS" data-astro-cid-dckccua4=""> VPS </a>  </div> </div> </div> <div class="post-meta-wrap"> <div class="post-meta"> <p> <span class="fas fa-list"></span> <br> <small>ToC</small> </p> <div class="post-meta-value">  <ol data-astro-cid-nj3qel45=""> <li class="toc-item toc-level-3" data-astro-cid-nj3qel45=""> <a class="toc-link" href="#1-os-selection" data-astro-cid-nj3qel45=""> <span class="toc-text" data-astro-cid-nj3qel45="">1. OS Selection</span> </a> </li><li class="toc-item toc-level-3" data-astro-cid-nj3qel45=""> <a class="toc-link" href="#2-web-server-selection" data-astro-cid-nj3qel45=""> <span class="toc-text" data-astro-cid-nj3qel45="">2. Web Server Selection</span> </a> </li><li class="toc-item toc-level-3" data-astro-cid-nj3qel45=""> <a class="toc-link" href="#3-system-component-selection" data-astro-cid-nj3qel45=""> <span class="toc-text" data-astro-cid-nj3qel45="">3. System Component Selection</span> </a> </li><li class="toc-item toc-level-3" data-astro-cid-nj3qel45=""> <a class="toc-link" href="#4-blog-platform-selection" data-astro-cid-nj3qel45=""> <span class="toc-text" data-astro-cid-nj3qel45="">4. Blog Platform Selection</span> </a> </li><li class="toc-item toc-level-3" data-astro-cid-nj3qel45=""> <a class="toc-link" href="#optimization-walkthrough" data-astro-cid-nj3qel45=""> <span class="toc-text" data-astro-cid-nj3qel45="">Optimization Walkthrough</span> </a> </li> </ol>   </div> </div> </div> </div>  </div>  <div class="post-wrap">  <h1 class="post-title"> <a href="/en/article/modify-website/host1free-vps-memory-optimize.lantian/" rel="bookmark" title="Host1Free VPS Memory Usage Optimization">Host1Free VPS Memory Usage Optimization</a> </h1> <div class="post-text">   <blockquote> <p>
This post is automatically translated with LLM. The translation content has
    NOT been reviewed and may contain errors.
</p> </blockquote><p>PS: After publishing the article for the first time, I realized I forgot to configure the connection between nginx and php5-fpm. When I tried to connect to my VPS to check the settings, I opened the terminal, pressed the up arrow and Enter, only to discover my last command was "exit"...</p>
<p>PS2: Folks using port 22 on VPS should be cautious – you might get disconnected mid-command. Switch to another port like 2222. (So 2-ish)</p>
<p>PS3: Today I set up a Debian 6 test environment on VirtualBox and discovered Lighttpd has plugin functionality... Revised accordingly.</p>
<p>For a VPS, resources like CPU and disk space are usually sufficient for running a personal blog like mine. The real headache is insufficient memory. A VPS provider might allocate one CPU core from the host machine to dozens of VPS instances (though only the most unscrupulous would do this), but if your host has 4GB RAM, you can never allocate twenty 256MB VPS instances – that would require 5GB. Plus, the host system needs to run virtualization technologies like OpenVZ and management interfaces like HyperVM, so you can't even allocate sixteen instances (exactly 4GB).</p>
<p>For us VPS users, when you get a VPS, you must ruthlessly optimize its memory usage. Otherwise, once memory maxes out, your VPS becomes useless. My Host1Free VPS has 128MB RAM and 640MB Swap (which feels practically useless). For that 128MB, careful optimization is essential. Those with 64MB or even 32MB VPS face even more tragic situations. (PS: I think people buying such VPS have too much money to burn)</p>
<h3 id="1-os-selection">1. OS Selection</h3>
<p>For a Linux VPS, you can choose Debian, Ubuntu, CentOS, Gentoo, etc. Each distro has its pros: Debian has older but practical software (native repo's PHP doesn't even include FPM), Ubuntu has tons of software, CentOS's repos... well, they're great for practicing GCC compilation.</p>
<p>Among distros, Debian feels most memory-efficient. I recall once running a full system with nginx+php-fastcgi+mysql using just 10MB RAM. When I tried CentOS, the built-in OpenSSH was sluggish, and I couldn't get used to yum and compiling. Ubuntu's repos are too bloated – each <code>apt-get update</code> took over 5 minutes due to Host1Free's 100KB/s network throttle. Ultimately, I installed Debian 6.</p>
<p>Side note: Installing a 64-bit OS on a VPS will make your memory usage explode. Only consider this if you have ≥512MB RAM.</p>
<h3 id="2-web-server-selection">2. Web Server Selection</h3>
<p>The three most famous Linux server software are: Nginx, Apache, Lighttpd. Apache is the oldest and most powerful – with plugins it supports PHP, Mono (ASP.NET on Linux), and even basic FTP servers. But for small-memory VPS, "powerful" is irrelevant. We need simplicity, speed, and memory efficiency.</p>
<p>Lighttpd is a streamlined server. It <del>lacks plugin functionality with all modules compiled directly into the code</del> (correction: Lighttpd has basic plugin functionality), making it faster. But it doesn't suit my workflow, so I haven't researched it deeply.</p>
<p>Nginx is more feature-rich than Lighttpd while maintaining better memory efficiency. Some claim that where Apache chokes at 1,000 concurrent connections, Nginx handles 100,000 effortlessly. This might be exaggerated, but Nginx's performance is undeniable. Apache uses the <code>select</code> network model: when a packet arrives, it scans all connections to find a match – inefficient by design. Nginx's <code>epoll</code> model maintains a lookup table for instant packet matching.</p>
<p>Nginx's lack of plugins also saves memory. I've run the LNMP stack in 10MB RAM. The downside? No built-in PHP support – it requires FastCGI forwarding. This creates 1-2 persistent processes that become major memory consumers, depending on your site's traffic.</p>
<h3 id="3-system-component-selection">3. System Component Selection</h3>
<p>A VPS's core components are: Shell, OpenSSH, and log management.</p>
<p>Debian 6 defaults to Bash. It's powerful but memory-hungry like Apache. For light users like me (1-2 shells), it's fine, but some users open 6+ shells at once – that could eat half your RAM. Solution: switch shells.</p>
<p>Many recommend pdksh – tiny but functional. As before: power is useless; adequacy is key.</p>
<p>For SSH, all distros include OpenSSH. Its drawback: when logging in as root, it spawns one new SSH process; non-root logins spawn two. Most users (unlike my lazy root approach) will see significant memory overhead. OpenSSH also supports SFTP. DropBear is a lightweight alternative without SFTP, but it avoids spawning multiple processes.</p>
<p>Debian 6 uses sysklogd for logging – very lightweight. Debian 5 users aren't so lucky (default rsyslog is bloated). Fix: <code>apt-get install sysklogd &#x26;&#x26; apt-get remove rsyslog</code>.</p>
<h3 id="4-blog-platform-selection">4. Blog Platform Selection</h3>
<p>Among PHP platforms, WordPress is unmatched. Its plugins and customization let it power anything from blogs to corporate sites. But through its evolution to v3.5.1, WP became bloated – even loading the admin panel consumes 30MB+ RAM, straining small VPS.</p>
<p>An alternative is Typecho. This Chinese-built platform is just 300KB vs. WP's 5MB... Its reduced plugin support boosts speed. Most importantly: it saves memory.</p>
<hr>
<h3 id="optimization-walkthrough">Optimization Walkthrough</h3>
<ol>
<li>Install Debian 6, SSH in.</li>
<li>Install pdksh:</li>
</ol>
<pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF" tabindex="0"><code><span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-get</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> install</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> pdksh</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">chsh</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF"> -s</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /bin/pdksh</span></span></code></pre>
<p>Re-login to apply.</p>
<ol start="3">
<li>Install DropBear:</li>
</ol>
<pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF" tabindex="0"><code><span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Prevent OpenSSH from starting</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">touch</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/ssh/sshd_not_to_be_run</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Install</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-get</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> install</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> dropbear</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/default/dropbear</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Change NO_START=1 to 0</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">service</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> dropbear</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> start</span></span></code></pre>
<ol start="4">
<li>Install LEMP Stack:</li>
</ol>
<pre class="shiki shiki-themes dark-plus light-plus" style="--shiki-dark:#D4D4D4;--shiki-light:#000000;--shiki-dark-bg:#1E1E1E;--shiki-light-bg:#FFFFFF" tabindex="0"><code><span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Add DotDeb repo for php-fpm</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/apt/sources.list</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Add: deb http://packages.dotdeb.org stable all</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cd</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> ~</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">wget</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> http://www.dotdeb.org/dotdeb.gpg</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cat</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> dotdeb.gpg</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000"> | </span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-key</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> add</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> -</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">rm</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> dotdeb.gpg</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Add repo key</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-get</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> update</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-get</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> upgrade</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">apt-get</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> install</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> mysql-server</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> nginx</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> php5-fpm</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> php5-mysql</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> php5-gd</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cd</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/php5/fpm/pool.d</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> www.conf</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Customize settings:</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># listen = /var/run/php5-fpm.sock  (Unix socket: resource-friendly but less stable)</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm = static</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm.max_children = 2</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm.start_servers = 1</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm.min_spare_servers = 1</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm.max_spare_servers = 1</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># pm.max_requests = 512</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cd</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/mysql</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> my.cnf</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Add before [mysqldump]:</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># default-storage-engine = MyISAM</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># skip-innodb  (InnoDB is memory-hogging; MyISAM handles 99% of WP/DZ needs)</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Note: Remove '#' when adding these lines!</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cd</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> /etc/nginx/sites-available</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> default</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Set root path (e.g., root /var/www)</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Add PHP handler:</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># location ~ \.php$ {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000">#   if (!-f $request_filename){return 404;}  # Required for custom 404 pages</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000">#   fastcgi_split_path_info ^(.+\.php)(/.+)$;</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000">#   fastcgi_pass unix:/var/run/php5-fpm.sock;</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000">#   fastcgi_index index.php;</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000">#   include fastcgi_params;</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># }</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">cd</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> ..</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">nano</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> nginx.conf</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># worker_processes 2;</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">service</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> nginx</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> restart</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">service</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> mysql</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> restart</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26">service</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> php5-fpm</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515"> restart</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000"># Done! Idle memory &#x3C;20MB. Running WP may use 70MB+, but 128MB is sufficient.</span></span></code></pre>  </div>  <div class="clearfix" id="post-navi" data-astro-cid-gfbmwgei=""> <div class="float-end text-end" data-astro-cid-gfbmwgei=""> <a href="/en/article/modify-website/host1free-check-users-vps-actively-used.lantian/" title="Host1Free Checks If All Users Are Using Their VPS" data-astro-cid-gfbmwgei=""> Host1Free Checks If All Users Are Using Their VPS </a> <br data-astro-cid-gfbmwgei=""> Next post »
</div> <div class="float-start text-start position-absolute" data-astro-cid-gfbmwgei="">
« Previous post <br data-astro-cid-gfbmwgei=""> <a href="/en/article/modify-computer/install-vmware-9-under-ubuntu.lantian/" title="Installing VMware Workstation 9 on Ubuntu" data-astro-cid-gfbmwgei=""> Installing VMware Workstation 9 on Ubuntu </a> </div> </div>  <div id="waline" data-waline-language="en-US" data-waline-path="/en/article/modify-website/host1free-vps-memory-optimize.lantian"></div> <script type="module" src="/assets/WalineComment.astro_astro_type_script_index_0_lang.Dqib3X1E.js"></script>  </div> </div> </article>  </div> <aside class="d-none d-xl-block"> <section class="widget"> <h3>Latest posts</h3> <ul class="list-unstyled"> <li> 07-20  <a href="/en/article/modify-computer/legal-lte-network-at-home-with-open5gs.lantian/">Legal LTE Network at Home with Open5GS</a> </li><li> 06-27  <a href="/en/article/modify-computer/sidestore-without-stosvpn-across-lan.lantian/">Using SideStore without StosVPN across your LAN</a> </li><li> 05-19  <a href="/en/article/modify-computer/nix-logarithmetic-math-library-from-zero.lantian/">Nix Logarithmic Math Library from Ground Zero</a> </li><li> 04-06  <a href="/en/article/modify-computer/legal-lte-network-at-home-for-100-bucks.lantian/">Legal LTE Network at Home for $100</a> </li><li> 02-10  <a href="/en/article/modify-computer/build-custom-android-kernel-with-nix.lantian/">Building Custom Android Kernel with Nix</a> </li><li> 04-20  <a href="/en/article/modify-website/migrate-blog-to-astro-js.lantian/">Migrating My Blog to Astro.js</a> </li><li> 12-16  <a href="/en/article/modify-computer/nixos-low-ram-vps.lantian/">NixOS Series 5: Creating Disk Image for Low RAM VPS</a> </li><li> 09-20  <a href="/en/article/modify-computer/nix-trigonometric-math-library-from-zero.lantian/">Nix Trigonometric Math Library from Ground Zero</a> </li><li> 05-29  <a href="/en/article/random-notes/pipewire-sigkill-fix.lantian/">Preventing Pipewire from being SIGKILLed</a> </li><li> 05-12  <a href="/en/article/modify-website/how-to-kill-the-dn42-network.lantian/">How to Kill the DN42 Network (Updated 2023-05-12)</a> </li><li> 05-08  <a href="/en/article/modify-computer/laptop-muxed-nvidia-passthrough.lantian/">NVIDIA GPU Passthrough on an Optimus MUXed Laptop (Updated 2023-05)</a> </li><li> 04-17  <a href="/en/article/random-notes/fix-china-telecom-roaming-no-4g-on-aosp-rom.lantian/">Fix China Telecom 4G Roaming on AOSP ROM by Changing APN</a> </li><li> 03-26  <a href="/en/article/random-notes/old-hp-workstation-as-all-in-one.lantian/">Notes on Setting Up NAS+Router on Old HP Workstation</a> </li><li> 01-14  <a href="/en/article/modify-computer/nixos-impermanence.lantian/">NixOS Series 4: &quot;Stateless&quot; Operating System</a> </li><li> 06-21  <a href="/en/article/modify-computer/nixos-packaging.lantian/">NixOS Series 3: Software Packaging 101</a> </li> </ul> </section> <section class="widget"> <h3>Latest comments</h3> <ul class="list-unstyled" id="recent-comments">  <li><a href="#">Loading...</a></li>  </ul> </section> <script type="module">const i=window.location.hostname=="localhost"?"https://comments.lantian.pub":window.location.origin;fetch(`${i}/api/comment?type=recent&count=10`).then(t=>{if(t.status!==200)throw new Error(`Server returned bad HTTP status ${t.status}`);return t.json()}).then(t=>{const e=document.getElementById("recent-comments");e&&(e.innerHTML=t.data.map(n=>{const o=n.comment.replace(/(<([^>]+)>)/gi,"");return"<li>"+n.nick+' <a href="'+n.url+'">'+o+"</a></li>"}).join(""))});</script> <section class="widget"> <h3>Others</h3> <ul class="list-unstyled">  <li> <i class="fas fa-fw fa-rss"></i>  <a href="/rss2.xml" target="_blank">RSS Feed</a> |  <a href="/feed.xml" target="_blank">Atom</a> |  <a href="/feed.json" target="_blank">JSON</a> </li> <li> <i class="fas fa-fw fa-globe"></i>  <a href="https://stats.uptimerobot.com/BLK6VsRkR" target="_blank"> Sever Status </a> </li> <li> <i class="fas fa-fw fa-sitemap"></i>  <a href="https://lg.lantian.pub" target="_blank">DN42 Looking Glass</a> </li> <li> <i class="fas fa-fw fa-link"></i>  <a href="gopher://lantian.pub" target="_blank">Access with Gopher protocol</a> </li>  </ul> </section> <section class="widget"> <h3>Links</h3> <ul class="list-unstyled"> <li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://0x7f.cc"> 0x7f Blog 🐑 </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="http://foreverblog.cn"> 10 Year&#39;s Promise (Forever Blog) </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://alanyhq.com"> Alanyhq </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://blog.baoshuo.ren/?utm_source=friends"> Baoshuo&#39;s Blog </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://blog.cas7.moe"> Blog of Moecast </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://jerryxiao.cc"> JerryXiao </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://sangsir.com"> SangSir </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://snli.org"> Shucheng Li </a> </li><li> <i class="fas fa-fw fa-link"></i>  <a target="_blank" href="https://yuetau.net"> YuetAu&#39;s Spot </a> </li> </ul> </section> </aside> </div> <footer class="lantian clearfix" data-astro-cid-w3csb3e3="">  <div id="copyright" class="float-end text-end" data-astro-cid-w3csb3e3=""> <i class="fas fa-copyright" data-astro-cid-w3csb3e3=""></i> 2012-2025 Lan Tian @ Blog<br data-astro-cid-w3csb3e3=""> <small data-astro-cid-w3csb3e3=""> Powered by Astro v5.15.1 @ 2025-10-25 23:46:42 </small> </div> <script type="module">function v(c,o,r){const h=/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(location.hostname)||location.protocol==="file:";if(!o.trackLocalhost&&h)return console.warn("[Plausible] Ignoring event because website is running locally");try{if(window.localStorage.plausible_ignore==="true")return console.warn('[Plausible] Ignoring event because "plausible_ignore" is set to "true" in localStorage')}catch{}const p={n:c,u:o.url,d:o.domain,r:o.referrer,w:o.deviceWidth,h:o.hashMode?1:0,p:r&&r.props?JSON.stringify(r.props):void 0},s=new XMLHttpRequest;s.open("POST",`${o.apiHost}/api/event`,!0),s.setRequestHeader("Content-Type","text/plain"),s.send(JSON.stringify(p)),s.onreadystatechange=()=>{s.readyState===4&&r&&r.callback&&r.callback()}}function b(c){const o=()=>({hashMode:!1,trackLocalhost:!1,url:location.href,domain:location.hostname,referrer:document.referrer||null,deviceWidth:window.innerWidth,apiHost:"https://plausible.io",...c}),r=(t,n,i)=>{v(t,{...o(),...i},n)},h=(t,n)=>{r("pageview",n,t)};return{trackEvent:r,trackPageview:h,enableAutoPageviews:()=>{const t=()=>h(),n=history.pushState;return n&&(history.pushState=function(i,l,u){n.apply(this,[i,l,u]),t()},addEventListener("popstate",t)),c&&c.hashMode&&addEventListener("hashchange",t),h(),function(){n&&(history.pushState=n,removeEventListener("popstate",t)),c&&c.hashMode&&removeEventListener("hashchange",t)}},enableAutoOutboundTracking:(t=document,n={subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]})=>{function i(e){r("Outbound Link: Click",{props:{url:this.href}}),typeof process<"u"&&process,setTimeout(()=>{location.href=this.href},150),e.preventDefault()}const l=new Set;function u(e){e instanceof HTMLAnchorElement?e.host!==location.host&&(e.addEventListener("click",i),l.add(e)):"querySelectorAll"in e&&e.querySelectorAll("a").forEach(u)}function f(e){e instanceof HTMLAnchorElement?(e.removeEventListener("click",i),l.delete(e)):"querySelectorAll"in e&&e.querySelectorAll("a").forEach(f)}const d=new MutationObserver(e=>{e.forEach(a=>{a.type==="attributes"?(f(a.target),u(a.target)):a.type==="childList"&&(a.addedNodes.forEach(u),a.removedNodes.forEach(f))})});return t.querySelectorAll("a").forEach(u),d.observe(t,n),function(){l.forEach(a=>{a.removeEventListener("click",i)}),l.clear(),d.disconnect()}}}}const g=b({domain:"lantian.pub",trackLocalhost:!0,apiHost:""});g.trackPageview();</script> </footer>  </div>  </body> </html>